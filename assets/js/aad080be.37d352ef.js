"use strict";(self.webpackChunkdocusaurus_docs=self.webpackChunkdocusaurus_docs||[]).push([[10894],{12283:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var s=t(85893),i=t(11151);const o={sidebar_position:3},a="I18n \u751f\u547d\u5468\u671f",l={unversionedId:"api/plugin-methods/i18n-lifecycles",id:"api/plugin-methods/i18n-lifecycles",title:"I18n \u751f\u547d\u5468\u671f",description:"\u63d2\u4ef6\u4f7f\u7528\u8fd9\u4e9b\u751f\u547d\u5468\u671f\u6765\u52a0\u8f7d i18n \u76f8\u5173\u7684\u6570\u636e\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/api/plugin-methods/i18n-lifecycles.mdx",sourceDirName:"api/plugin-methods",slug:"/api/plugin-methods/i18n-lifecycles",permalink:"/docusaurus-docs/docs/next/api/plugin-methods/i18n-lifecycles",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/api/plugin-methods/i18n-lifecycles.mdx",tags:[],version:"current",lastUpdatedBy:"wohugb@aliyun.com",lastUpdatedAt:1693467116,formattedLastUpdatedAt:"2023\u5e748\u670831\u65e5",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"api",previous:{title:"\u6269\u5927\u57fa\u7840\u8bbe\u65bd",permalink:"/docusaurus-docs/docs/next/api/plugin-methods/extend-infrastructure"},next:{title:"\u9759\u6001\u65b9\u6cd5",permalink:"/docusaurus-docs/docs/next/api/plugin-methods/static-methods"}},r={},c=[{value:"<code>getTranslationFiles({content})</code>",id:"getTranslationFiles",level:2},{value:"<code>translateContent({content,translationFiles})</code>",id:"translateContent",level:2},{value:"<code>translateThemeConfig({themeConfig,translationFiles})</code>",id:"translateThemeConfig",level:2},{value:"<code>async getDefaultCodeTranslationMessages()</code>",id:"getDefaultCodeTranslationMessages",level:2}];function d(n){const e=Object.assign({h1:"h1",p:"p",h2:"h2",code:"code",ul:"ul",li:"li",a:"a",pre:"pre"},(0,i.ah)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"i18n-\u751f\u547d\u5468\u671f",children:"I18n \u751f\u547d\u5468\u671f"}),"\n",(0,s.jsx)(e.p,{children:"\u63d2\u4ef6\u4f7f\u7528\u8fd9\u4e9b\u751f\u547d\u5468\u671f\u6765\u52a0\u8f7d i18n \u76f8\u5173\u7684\u6570\u636e\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"getTranslationFiles",children:(0,s.jsx)(e.code,{children:"getTranslationFiles({content})"})}),"\n",(0,s.jsx)(e.p,{children:"\u63d2\u4ef6\u58f0\u660e\u4ed6\u4eec\u60f3\u8981\u4f7f\u7528\u7684 JSON \u7ffb\u8bd1\u6587\u4ef6\u3002"}),"\n",(0,s.jsxs)(e.p,{children:["\u8fd4\u56de\u7ffb\u8bd1\u6587\u4ef6",(0,s.jsx)(e.code,{children:"{path: string, content: ChromeI18nJSON}"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"path"}),": \u76f8\u5bf9\u4e8e\u63d2\u4ef6\u672c\u5730\u5316\u6587\u4ef6\u5939",(0,s.jsx)(e.code,{children:"i18n/[locale]/[pluginName]"}),"\u3002\u6269\u5c55",(0,s.jsx)(e.code,{children:".json"}),"\u5e94\u8be5\u88ab\u7701\u7565\u4ee5\u4fdd\u6301\u901a\u7528\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"content"}),": \u4f7f\u7528 Chrome i18n JSON \u683c\u5f0f\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u8fd9\u4e9b\u6587\u4ef6\u5c06\u7531",(0,s.jsxs)(e.a,{href:"/docusaurus-docs/docs/next/cli#docusaurus-write-translations-sitedir",children:[(0,s.jsx)(e.code,{children:"write-translations"})," CLI"]}),"\u5199\u5165\u5230\u63d2\u4ef6 i18n \u5b50\u6587\u4ef6\u5939\u4e2d\uff0c\u5e76\u5c06\u5728\u8c03\u7528",(0,s.jsx)(e.a,{href:"#translateContent",children:(0,s.jsx)(e.code,{children:"translateContent()"})}),"\u548c",(0,s.jsx)(e.a,{href:"#translateThemeConfig",children:(0,s.jsx)(e.code,{children:"translateThemeConfig()"})}),"\u4e4b\u524d\u5728\u9002\u5f53\u7684\u8bed\u8a00\u73af\u5883\u4e2d\u8bfb\u53d6"]}),"\n",(0,s.jsx)(e.p,{children:"\u4f8b\u5b50:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'module.exports = function (context, options) {\n  return {\n    name: "my-plugin",\n    // highlight-start\n    async getTranslationFiles({ content }) {\n      return [\n        {\n          path: "sidebar-labels",\n          content: {\n            someSidebarLabel: {\n              message: "Some Sidebar Label",\n              description: "A label used in my plugin in the sidebar",\n            },\n            someLabelFromContent: content.myLabel,\n          },\n        },\n      ];\n    },\n    // highlight-end\n  };\n};\n'})}),"\n",(0,s.jsx)(e.h2,{id:"translateContent",children:(0,s.jsx)(e.code,{children:"translateContent({content,translationFiles})"})}),"\n",(0,s.jsx)(e.p,{children:"\u4f7f\u7528\u672c\u5730\u5316\u7684\u7ffb\u8bd1\u6587\u4ef6\u7ffb\u8bd1\u63d2\u4ef6\u5185\u5bb9\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u8fd4\u56de\u672c\u5730\u5316\u7684\u63d2\u4ef6\u5185\u5bb9\u3002"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"contentLoaded()"}),"\u751f\u547d\u5468\u671f\u5c06\u4f7f\u7528",(0,s.jsx)(e.code,{children:"translateContent()"}),"\u8fd4\u56de\u7684\u672c\u5730\u5316\u63d2\u4ef6\u5185\u5bb9\u6765\u8c03\u7528\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u4f8b\u5b50:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'module.exports = function (context, options) {\n  return {\n    name: "my-plugin",\n    // highlight-start\n    translateContent({ content, translationFiles }) {\n      const myTranslationFile = translationFiles.find((f) => f.path === "myTranslationFile");\n      return {\n        ...content,\n        someContentLabel: myTranslationFile.someContentLabel.message,\n      };\n    },\n    // highlight-end\n  };\n};\n'})}),"\n",(0,s.jsx)(e.h2,{id:"translateThemeConfig",children:(0,s.jsx)(e.code,{children:"translateThemeConfig({themeConfig,translationFiles})"})}),"\n",(0,s.jsxs)(e.p,{children:["\u4f7f\u7528\u672c\u5730\u5316\u7684\u7ffb\u8bd1\u6587\u4ef6\u7ffb\u8bd1\u7ad9\u70b9",(0,s.jsx)(e.code,{children:"themeConfig"}),"\u6807\u7b7e\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["\u8fd4\u56de\u672c\u5730\u5316\u7684",(0,s.jsx)(e.code,{children:"themeConfig"}),"\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u4f8b\u5b50:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'module.exports = function (context, options) {\n  return {\n    name: "my-theme",\n    // highlight-start\n    translateThemeConfig({ themeConfig, translationFiles }) {\n      const myTranslationFile = translationFiles.find((f) => f.path === "myTranslationFile");\n      return {\n        ...themeConfig,\n        someThemeConfigLabel: myTranslationFile.someThemeConfigLabel.message,\n      };\n    },\n    // highlight-end\n  };\n};\n'})}),"\n",(0,s.jsx)(e.h2,{id:"getDefaultCodeTranslationMessages",children:(0,s.jsx)(e.code,{children:"async getDefaultCodeTranslationMessages()"})}),"\n",(0,s.jsxs)(e.p,{children:["\u4f7f\u7528",(0,s.jsx)(e.code,{children:"<Translate>"})," API \u7684\u4e3b\u9898\u53ef\u4ee5\u63d0\u4f9b\u9ed8\u8ba4\u7684\u4ee3\u7801\u7ffb\u8bd1\u6d88\u606f\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["\u5b83\u5e94\u8be5\u5728",(0,s.jsx)(e.code,{children:"Record<string, string>"}),"\u4e2d\u8fd4\u56de\u6d88\u606f\uff0c\u5176\u4e2d\u952e\u662f\u7ffb\u8bd1 id\uff0c\u503c\u662f\u4f7f\u7528\u7ad9\u70b9\u5f53\u524d\u8bed\u8a00\u73af\u5883\u672c\u5730\u5316\u7684\u6d88\u606f(\u4e0d\u542b\u63cf\u8ff0)\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u4f8b\u5b50:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'module.exports = function (context, options) {\n  return {\n    name: "my-theme",\n    // highlight-start\n    async getDefaultCodeTranslationMessages() {\n      return readJsonFile(`${context.i18n.currentLocale}.json`);\n    },\n    // highlight-end\n  };\n};\n'})})]})}const h=function(n={}){const{wrapper:e}=Object.assign({},(0,i.ah)(),n.components);return e?(0,s.jsx)(e,Object.assign({},n,{children:(0,s.jsx)(d,n)})):d(n)}},11151:(n,e,t)=>{t.d(e,{Zo:()=>l,ah:()=>o});var s=t(67294);const i=s.createContext({});function o(n){const e=s.useContext(i);return s.useMemo((()=>"function"==typeof n?n(e):{...e,...n}),[e,n])}const a={};function l({components:n,children:e,disableParentContext:t}){let l;return l=t?"function"==typeof n?n({}):n||a:o(n),s.createElement(i.Provider,{value:l},e)}}}]);