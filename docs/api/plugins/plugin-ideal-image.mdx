---
sidebar_position: 8
slug: /api/plugins/@docusaurus/plugin-ideal-image
---

# ğŸ“¦ plugin-ideal-image

import APITable from "@site/src/components/APITable";

Docusaurus æ’ä»¶ç”Ÿæˆä¸€ä¸ªå‡ ä¹ç†æƒ³çš„å›¾åƒ(å“åº”ï¼Œå»¶è¿ŸåŠ è½½ï¼Œä½è´¨é‡å ä½ç¬¦)ã€‚

:::info

é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ’ä»¶åœ¨å¼€å‘ä¸­å¤„äºéæ´»åŠ¨çŠ¶æ€ï¼Œå› æ­¤æ‚¨å¯ä»¥éšæ—¶æŸ¥çœ‹å…¨å°ºå¯¸å›¾åƒã€‚å¦‚æœæ‚¨æƒ³è°ƒè¯•ç†æƒ³çš„å›¾åƒè¡Œä¸ºï¼Œæ‚¨å¯ä»¥å°†[`disableInDev`](#disableInDev)é€‰é¡¹è®¾ç½®ä¸º`false`ã€‚

:::

## å®‰è£… {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-ideal-image
```

## ä½¿ç”¨ {#usage}

è¿™ä¸ªæ’ä»¶åªæ”¯æŒ PNG å’Œ JPG æ ¼å¼ã€‚

```jsx
import Image from '@theme/IdealImage';
import thumbnail from './path/to/img.png';

// your React code
<Image img={thumbnail} />

// or
<Image img={require('./path/to/img.png')} />
```

:::caution

è¿™ä¸ªæ’ä»¶æ³¨å†Œäº†ä¸€ä¸ª[Webpack loader](https://webpack.js.org/loaders/)æ¥æ”¹å˜ imported/require çš„å›¾åƒçš„ç±»å‹:

- ä¹‹å‰: `string`
- ä¹‹å: `{preSrc: string, src: import("@theme/IdealImage").SrcImage}`

:::

## é…ç½® {#configuration}

æ¥å—å­—æ®µ:

```mdx-code-block
<APITable>
```

| Option         | ç±»å‹       | é»˜è®¤                                          | æè¿°                                                                                                                                                                                                                                   |
| -------------- | ---------- | --------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `name`         | `string`   | `ideal-img/[name].[hash:hex:7].[width].[ext]` | Filename template for output files.                                                                                                                                                                                                    |
| `sizes`        | `number[]` | _original size_                               | Specify all widths you want to use. If a specified size exceeds the original image's width, the latter will be used (i.e. images won't be scaled up).                                                                                  |
| `size`         | `number`   | _original size_                               | Specify one width you want to use; if the specified size exceeds the original image's width, the latter will be used (i.e. images won't be scaled up)                                                                                  |
| `min`          | `number`   |                                               | As an alternative to manually specifying `sizes`, you can specify `min`, `max` and `steps`, and the sizes will be generated for you.                                                                                                   |
| `max`          | `number`   |                                               | See `min` above                                                                                                                                                                                                                        |
| `steps`        | `number`   | `4`                                           | Configure the number of images generated between `min` and `max` (inclusive)                                                                                                                                                           |
| `quality`      | `number`   | `85`                                          | JPEG compression quality                                                                                                                                                                                                               |
| `disableInDev` | `boolean`  | `true`                                        | You can test ideal image behavior in dev mode by setting this to `false`. **Tip**: use [network throttling](https://www.browserstack.com/guide/how-to-perform-network-throttling-in-chrome) in your browser to simulate slow networks. |

```mdx-code-block
</APITable>
```

### ç¤ºä¾‹é…ç½® {#ex-config}

ä¸‹é¢æ˜¯ä¸€ä¸ªé…ç½®ç¤ºä¾‹:

```js title="docusaurus.config.js"
module.exports = {
  plugins: [
    [
      "@docusaurus/plugin-ideal-image",
      // highlight-start
      {
        quality: 70,
        max: 1030, // max resized image's size.
        min: 640, // min resized image's size. if original is lower, use that size.
        steps: 2, // the max number of images generated between min and max (inclusive)
        disableInDev: false,
      },
      // highlight-end
    ],
  ],
};
```
