---
sidebar_position: 4
slug: /api/plugins/@docusaurus/plugin-client-redirects
---

# ğŸ“¦ plugin-client-redirects

import APITable from "@site/src/components/APITable";

Docusaurus æ’ä»¶ç”Ÿæˆ**å®¢æˆ·ç«¯é‡å®šå‘**ã€‚

è¿™ä¸ªæ’ä»¶å°†ç¼–å†™é¢å¤–çš„ HTML é¡µé¢åˆ°æ‚¨çš„é™æ€ç«™ç‚¹ï¼Œå°†ç”¨æˆ·é‡å®šå‘åˆ°æ‚¨ç°æœ‰çš„ Docusaurus é¡µé¢ä¸ JavaScriptã€‚

:::caution åªç”Ÿäº§

è¿™ä¸ªæ’ä»¶åœ¨å¼€å‘ä¸­æ€»æ˜¯ä¸æ´»è·ƒçš„ï¼Œ**åªæœ‰åœ¨ç”Ÿäº§ä¸­æ‰æ´»è·ƒ**ï¼Œå› ä¸ºå®ƒåœ¨æ„å»ºè¾“å‡ºä¸­å·¥ä½œã€‚

:::

:::caution

æœ€å¥½å°½å¯èƒ½ä½¿ç”¨æœåŠ¡å™¨ç«¯é‡å®šå‘ã€‚

åœ¨ä½¿ç”¨è¿™ä¸ªæ’ä»¶ä¹‹å‰ï¼Œä½ åº”è¯¥çœ‹çœ‹ä½ çš„ä¸»æœºæä¾›å•†æ˜¯å¦æä¾›è¿™ä¸ªåŠŸèƒ½ã€‚

:::

## å®‰è£… {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-client-redirects
```

## é…ç½® {#configuration}

æ¥å—å­—æ®µ:

```mdx-code-block
<APITable>
```

| é€‰é¡¹              | ç±»å‹                                                            | é»˜è®¤çš„      | æè¿°                                                                                              |
| ----------------- | --------------------------------------------------------------- | ----------- | ------------------------------------------------------------------------------------------------- |
| `fromExtensions`  | `string[]`                                                      | `[]`        | é‡å®šå‘åè¦ä»è·¯ç”±ä¸­åˆ é™¤çš„æ‰©å±•åã€‚                                                                  |
| `toExtensions`    | `string[]`                                                      | `[]`        | é‡å®šå‘åè¦é™„åŠ åˆ°è·¯ç”±çš„æ‰©å±•åã€‚                                                                    |
| `redirects`       | <code><a href="#RedirectRule">RedirectRule</a>[]</code>         | `[]`        | é‡å®šå‘è§„åˆ™åˆ—è¡¨ã€‚                                                                                  |
| `createRedirects` | <code><a href="#CreateRedirectsFn">CreateRedirectsFn</a></code> | `undefined` | åˆ›å»ºé‡å®šå‘è§„åˆ™çš„å›è°ƒã€‚Docusaurus é’ˆå¯¹å®ƒåˆ›å»ºçš„æ¯ä¸ªè·¯å¾„æŸ¥è¯¢è¿™ä¸ªå›è°ƒï¼Œå¹¶ä½¿ç”¨å®ƒçš„è¿”å›å€¼è¾“å‡ºæ›´å¤šè·¯å¾„ã€‚ |

```mdx-code-block
</APITable>
```

:::note

è¿™ä¸ªæ’ä»¶è¿˜å°†è¯»å–[`siteConfig.onDuplicateRoutes`](../docusaurus.config.js.mdx#onDuplicateRoutes)é…ç½®ï¼Œä»¥åœ¨å¤šä¸ªæ–‡ä»¶å°†è¢«å‘é€åˆ°åŒä¸€ä½ç½®æ—¶è°ƒæ•´å…¶æ—¥å¿—çº§åˆ«ã€‚

:::

### Types {#types}

#### `RedirectRule` {#RedirectRule}

```ts
type RedirectRule = {
  to: string;
  from: string | string[];
};
```

:::note

`from`å’Œ`to`çš„æ¦‚å¿µæ˜¯è¿™ä¸ªæ’ä»¶çš„æ ¸å¿ƒã€‚
"From"æ„å‘³ç€ä½ æƒ³è¦*åˆ›å»º*çš„è·¯å¾„ï¼Œå³ä¸€ä¸ªé¢å¤–çš„ HTML æ–‡ä»¶å°†è¢«å†™å…¥;
"to"è¡¨ç¤ºæƒ³è¦é‡å®šå‘*çš„*è·¯å¾„ï¼Œé€šå¸¸æ˜¯ Docusaurus å·²ç»çŸ¥é“çš„è·¯å¾„ã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåŒä¸€ä¸ª`to`å¯ä»¥æœ‰å¤šä¸ª`from`:æˆ‘ä»¬å°†åˆ›å»ºå¤šä¸ª HTML æ–‡ä»¶ï¼Œå®ƒä»¬éƒ½é‡å®šå‘åˆ°ç›¸åŒçš„ç›®çš„åœ°ã€‚
å¦ä¸€æ–¹é¢ï¼Œä¸€ä¸ª`from`æ°¸è¿œä¸èƒ½æœ‰å¤šä¸ª`to`:ç¼–å†™çš„ HTML æ–‡ä»¶éœ€è¦æœ‰ä¸€ä¸ªç¡®å®šçš„ç›®çš„åœ°ã€‚

:::

#### `CreateRedirectsFn` {#CreateRedirectsFn}

```ts
// The parameter `path` is a route that Docusaurus has already created. It can
// be seen as the "to", and your return value is the "from". Returning a falsy
// value will not create any redirect pages for this particular path.
type CreateRedirectsFn = (path: string) => string[] | string | null | undefined;
```

### ç¤ºä¾‹é…ç½® {#ex-config}

ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®:

```js title="docusaurus.config.js"
module.exports = {
  plugins: [
    [
      "@docusaurus/plugin-client-redirects",
      // highlight-start
      {
        fromExtensions: ["html", "htm"], // /myPage.html -> /myPage
        toExtensions: ["exe", "zip"], // /myAsset -> /myAsset.zip (if latter exists)
        redirects: [
          // /docs/oldDoc -> /docs/newDoc
          {
            to: "/docs/newDoc",
            from: "/docs/oldDoc",
          },
          // Redirect from multiple old paths to the new path
          {
            to: "/docs/newDoc2",
            from: ["/docs/oldDocFrom2019", "/docs/legacyDocFrom2016"],
          },
        ],
        createRedirects(existingPath) {
          if (existingPath.includes("/community")) {
            // Redirect from /docs/team/X to /community/X and /docs/support/X to /community/X
            return [
              existingPath.replace("/community", "/docs/team"),
              existingPath.replace("/community", "/docs/support"),
            ];
          }
          return undefined; // Return a falsy value: no redirect created
        },
      },
      // highlight-end
    ],
  ],
};
```
