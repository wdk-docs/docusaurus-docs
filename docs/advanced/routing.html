<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-advanced/routing">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">路由 | Docusaurus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wdk-docs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://wdk-docs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://wdk-docs.github.io/docs/advanced/routing"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="路由 | Docusaurus"><meta data-rh="true" name="description" content="Docusaurus的路由系统遵循单页应用惯例:一条路由，一个组件。"><meta data-rh="true" property="og:description" content="Docusaurus的路由系统遵循单页应用惯例:一条路由，一个组件。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wdk-docs.github.io/docs/advanced/routing"><link data-rh="true" rel="alternate" href="https://wdk-docs.github.io/docs/advanced/routing" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://wdk-docs.github.io/docs/advanced/routing" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Docusaurus RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Docusaurus Atom Feed"><link rel="stylesheet" href="/assets/css/styles.203934e1.css">
<link rel="preload" href="/assets/js/runtime~main.cb03e971.js" as="script">
<link rel="preload" href="/assets/js/main.cd2b1160.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/docusaurus.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="32"><img src="/img/docusaurus_keytar.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="32"></div><b class="navbar__title text--truncate">文档龙</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">文档</a><a class="navbar__item navbar__link" href="/docs/cli">API</a><a class="navbar__item navbar__link" href="/blog">博客</a><a class="navbar__item navbar__link" href="/showcase">案例</a><a class="navbar__item navbar__link" href="/community/support">社区</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/docs/advanced/routing" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">中文</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/docusaurus.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="32"><img src="/img/docusaurus_keytar.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="32"><b>文档龙</b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">介绍</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/category/开始">开始</a><button aria-label="打开/收起侧边栏菜单「开始」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation">安装</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration">配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/playground">Playgrounds</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/typescript-support">TypeScript 的支持</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/指南">指南</a><button aria-label="打开/收起侧边栏菜单「指南」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/advanced">高级教程</a><button aria-label="打开/收起侧边栏菜单「高级教程」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/architecture">体系架构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/plugins">插件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/advanced/routing">路由</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/ssg">静态站点生成</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/client">客户端架构</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/migration">从v1迁移到v2</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/advanced"><span itemprop="name">高级教程</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">路由</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>路由</h1><p>Docusaurus 的路由系统遵循单页应用惯例:一条路由，一个组件。
在本节中，我们将首先讨论三个内容插件(文档、博客和页面)中的路由，然后进一步讨论底层路由系统。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="routing-in-content-plugins">内容插件中的路由<a href="#routing-in-content-plugins" class="hash-link" aria-label="内容插件中的路由的直接链接" title="内容插件中的路由的直接链接">​</a></h2><p>每个内容插件都提供一个<code>routeBasePath</code>选项。它定义了插件将路由附加到哪里。默认情况下，docs 插件把它的路由放在<code>/docs</code>下;博客插件<code>/blog</code>;和页面插件<code>/</code>。你可以这样考虑路由结构:</p><p>任何路由都将与这个嵌套的路由配置匹配，直到找到一个好的匹配。例如，当给定一个路由<code>/docs/configuration</code>时，Docusaurus 首先进入<code>/docs</code>分支，然后在 docs 插件创建的子路由中搜索。</p><p>更改<code>routeBasePath</code>可以有效地改变站点的路由结构。例如，在<a href="/docs/docs-introduction#docs-only-mode">docs-only 模式</a>中，我们提到为 docs 配置<code>routeBasePath: &#x27;/&#x27;</code>意味着 docs 插件创建的所有路由都不会有<code>/docs</code>前缀，但它并不能阻止其他插件创建更多像<code>/blog</code>这样的子路由。</p><p>接下来，让我们看看这三个插件是如何构建它们自己的<code>子路由盒子</code>的。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pages-routing">页面路由<a href="#pages-routing" class="hash-link" aria-label="页面路由的直接链接" title="页面路由的直接链接">​</a></h3><p>页面路由很简单:文件路径直接映射到 URLs，不需要任何其他自定义方式。请参阅<a href="/docs/creating-pages#routing">pages 文档</a>了解更多信息。</p><p>用于 Markdown 页面的组件是<code>@theme/MDXPage</code>。React 页面被直接用作路由的组件。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="blog-routing">博客路由<a href="#blog-routing" class="hash-link" aria-label="博客路由的直接链接" title="博客路由的直接链接">​</a></h3><p>该博客创建了以下路由:</p><ul><li><strong>Posts list pages</strong>: <code>/</code>, <code>/page/2</code>, <code>/page/3</code>...<ul><li>The component is <code>@theme/BlogListPage</code>.</li></ul></li><li><strong>Post pages</strong>: <code>/2021/11/21/algolia-docsearch-migration</code>, <code>/2021/05/12/announcing-docusaurus-two-beta</code>...<ul><li>Generated from each Markdown post.</li><li>The routes are fully customizable through the <code>slug</code> front matter.</li><li>The component is <code>@theme/BlogPostPage</code>.</li></ul></li><li><strong>Tags list page</strong>: <code>/tags</code><ul><li>The route is customizable through the <code>tagsBasePath</code> option.</li><li>The component is <code>@theme/BlogTagsListPage</code>.</li></ul></li><li><strong>Tag pages</strong>: <code>/tags/adoption</code>, <code>/tags/beta</code>...<ul><li>Generated through the tags defined in each post&#x27;s front matter.</li><li>The routes always have base defined in <code>tagsBasePath</code>, but the subroutes are customizable through the tag&#x27;s <code>permalink</code> field.</li><li>The component is <code>@theme/BlogTagsPostsPage</code>.</li></ul></li><li><strong>Archive page</strong>: <code>/archive</code><ul><li>The route is customizable through the <code>archiveBasePath</code> option.</li><li>The component is <code>@theme/BlogArchivePage</code>.</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="docs-routing">文档路由<a href="#docs-routing" class="hash-link" aria-label="文档路由的直接链接" title="文档路由的直接链接">​</a></h3><p>The docs is the only plugin that creates <strong>nested routes</strong>. At the top, it registers <a href="/docs/versioning"><strong>version paths</strong></a>: <code>/</code>, <code>/next</code>, <code>/2.0.0-beta.13</code>... which provide the version context, including the layout and sidebar. This ensures that when switching between individual docs, the sidebar&#x27;s state is preserved, and that you can switch between versions through the navbar dropdown while staying on the same doc. The component used is <code>@theme/DocPage</code>.</p><p>The individual docs are rendered in the remaining space after the navbar, footer, sidebar, etc. have all been provided by the <code>DocPage</code> component. For example, this page, <code>/docs/advanced/routing</code>, is generated from the file at <code>./docs/<!-- -->advanced/routing.md</code>. The component used is <code>@theme/DocItem</code>.</p><p>The doc&#x27;s <code>slug</code> front matter customizes the last part of the route, but the base route is always defined by the plugin&#x27;s <code>routeBasePath</code> and the version&#x27;s <code>path</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="file-paths-and-url-paths">文件路径和 URL 路径<a href="#file-paths-and-url-paths" class="hash-link" aria-label="文件路径和 URL 路径的直接链接" title="文件路径和 URL 路径的直接链接">​</a></h3><p>Throughout the documentation, we always try to be unambiguous about whether we are talking about file paths or URL paths. Content plugins usually map file paths directly to URL paths, for example, <code>./docs/advanced/routing.md</code> will become <code>/docs/advanced/routing</code>. However, with <code>slug</code>, you can make URLs totally decoupled from the file structure.</p><p>When writing links in Markdown, you could either mean a <em>file path</em>, or a <em>URL path</em>, which Docusaurus would use several heuristics to determine.</p><ul><li>If the path has a <code>@site</code> prefix, it is <em>always</em> an asset file path.</li><li>If the path has an <code>http(s)://</code> prefix, it is <em>always</em> a URL path.</li><li>If the path doesn&#x27;t have an extension, it is a URL path. For example, a link <code>[page](../plugins)</code> on a page with URL <code>/docs/advanced/routing</code> will link to <code>/docs/plugins</code>. Docusaurus will only detect broken links when building your site (when it knows the full route structure), but will make no assumptions about the existence of a file. It is exactly equivalent to writing <code>&lt;a href=&quot;../plugins&quot;&gt;page&lt;/a&gt;</code> in a JSX file.</li><li>If the path has an <code>.md(x)</code> extension, Docusaurus would try to resolve that Markdown file to a URL, and replace the file path with a URL path.</li><li>If the path has any other extension, Docusaurus would treat it as <a href="/docs/markdown-features/assets">an asset</a> and bundle it.</li></ul><p>The following directory structure may help you visualize this file → URL mapping. Assume that there&#x27;s no slug customization in any page.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>A sample site structure</summary><div><div class="collapsibleContent_i85q"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── blog                            </span><span class="token comment" style="color:#999988;font-style:italic"># blog plugin has routeBasePath: &#x27;/blog&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── </span><span class="token number" style="color:#36acaa">2019</span><span class="token plain">-05-28-first-blog-post.md       </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /blog/2019/05/28/first-blog-post</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── </span><span class="token number" style="color:#36acaa">2019</span><span class="token plain">-05-29-long-blog-post.md        </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /blog/2019/05/29/long-blog-post</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-08-01-mdx-blog-post.mdx        </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /blog/2021/08/01/mdx-blog-post</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-08-26-welcome</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── docusaurus-plushie-banner.jpeg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── index.md                        </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /blog/2021/08/26/welcome</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── docs                            </span><span class="token comment" style="color:#999988;font-style:italic"># docs plugin has routeBasePath: &#x27;/docs&#x27;; current version has base path &#x27;/&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── intro.md                            </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /docs/intro</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── tutorial-basics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── _category_.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── congratulations.md              </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /docs/tutorial-basics/congratulations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── markdown-features.mdx           </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /docs/tutorial-basics/congratulations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── tutorial-extras</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── _category_.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── manage-docs-versions.md         </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /docs/tutorial-extras/manage-docs-versions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── translate-your-site.md          </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /docs/tutorial-extras/translate-your-site</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── pages                       </span><span class="token comment" style="color:#999988;font-style:italic"># pages plugin has routeBasePath: &#x27;/&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── index.module.css</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── index.tsx                       </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── markdown-page.md                </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /markdown-page</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── versioned_docs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── version-1.0.0               </span><span class="token comment" style="color:#999988;font-style:italic"># version has base path &#x27;/1.0.0&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── intro.md                        </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /docs/1.0.0/intro</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── tutorial-basics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   ├── _category_.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   ├── congratulations.md          </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /docs/1.0.0/tutorial-basics/congratulations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   └── markdown-features.mdx       </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /docs/1.0.0/tutorial-basics/markdown-features</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └── tutorial-extras</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ├── _category_.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ├── manage-docs-versions.md     </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /docs/1.0.0/tutorial-extras/manage-docs-versions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            └── translate-your-site.md      </span><span class="token comment" style="color:#999988;font-style:italic"># -&gt; /docs/1.0.0/tutorial-extras/translate-your-site</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><p>So much about content plugins. Let&#x27;s take one step back and talk about how routing works in a Docusaurus app in general.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="routes-become-html-files">路由变成 HTML 文件<a href="#routes-become-html-files" class="hash-link" aria-label="路由变成 HTML 文件的直接链接" title="路由变成 HTML 文件的直接链接">​</a></h2><p>Because Docusaurus is a server-side rendering framework, all routes generated will be server-side rendered into static HTML files. If you are familiar with the behavior of HTTP servers like <a href="https://httpd.apache.org/docs/trunk/getting-started.html" target="_blank" rel="noopener noreferrer">Apache2</a>, you will understand how this is done: when the browser sends a request to the route <code>/docs/advanced/routing</code>, the server interprets that as request for the HTML file <code>/docs/advanced/routing/index.html</code>, and returns that.</p><p>The <code>/docs/advanced/routing</code> route can correspond to either <code>/docs/advanced/routing/index.html</code> or <code>/docs/advanced/routing.html</code>. Some hosting providers differentiate between them using the presence of a trailing slash, and may or may not tolerate the other. Read more in the <a href="https://github.com/slorber/trailing-slash-guide" target="_blank" rel="noopener noreferrer">trailing slash guide</a>.</p><p>For example, the build output of the directory above is (ignoring other assets and JS bundle):</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Output of the above workspace</summary><div><div class="collapsibleContent_i85q"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── </span><span class="token number" style="color:#36acaa">404</span><span class="token plain">.html                      </span><span class="token comment" style="color:#999988;font-style:italic"># /404/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── blog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── archive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── index.html            </span><span class="token comment" style="color:#999988;font-style:italic"># /blog/archive/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── first-blog-post</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── index.html            </span><span class="token comment" style="color:#999988;font-style:italic"># /blog/first-blog-post/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── index.html                </span><span class="token comment" style="color:#999988;font-style:italic"># /blog/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── long-blog-post</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── index.html            </span><span class="token comment" style="color:#999988;font-style:italic"># /blog/long-blog-post/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── mdx-blog-post</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── index.html            </span><span class="token comment" style="color:#999988;font-style:italic"># /blog/mdx-blog-post/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── docusaurus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── index.html        </span><span class="token comment" style="color:#999988;font-style:italic"># /blog/tags/docusaurus/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── hola</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── index.html        </span><span class="token comment" style="color:#999988;font-style:italic"># /blog/tags/hola/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── index.html            </span><span class="token comment" style="color:#999988;font-style:italic"># /blog/tags/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── welcome</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── index.html            </span><span class="token comment" style="color:#999988;font-style:italic"># /blog/welcome/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── docs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── intro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── index.html        </span><span class="token comment" style="color:#999988;font-style:italic"># /docs/1.0.0/intro/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── tutorial-basics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   ├── congratulations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   └── index.html    </span><span class="token comment" style="color:#999988;font-style:italic"># /docs/1.0.0/tutorial-basics/congratulations/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── markdown-features</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │       └── index.html    </span><span class="token comment" style="color:#999988;font-style:italic"># /docs/1.0.0/tutorial-basics/markdown-features/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── tutorial-extras</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       ├── manage-docs-versions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       │   └── index.html    </span><span class="token comment" style="color:#999988;font-style:italic"># /docs/1.0.0/tutorial-extras/manage-docs-versions/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       └── translate-your-site</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │           └── index.html    </span><span class="token comment" style="color:#999988;font-style:italic"># /docs/1.0.0/tutorial-extras/translate-your-site/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── intro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── index.html            </span><span class="token comment" style="color:#999988;font-style:italic"># /docs/1.0.0/intro/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── tutorial-basics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── congratulations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── index.html        </span><span class="token comment" style="color:#999988;font-style:italic"># /docs/tutorial-basics/congratulations/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── markdown-features</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       └── index.html        </span><span class="token comment" style="color:#999988;font-style:italic"># /docs/tutorial-basics/markdown-features/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── tutorial-extras</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── manage-docs-versions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       │   └── index.html        </span><span class="token comment" style="color:#999988;font-style:italic"># /docs/tutorial-extras/manage-docs-versions/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── translate-your-site</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           └── index.html        </span><span class="token comment" style="color:#999988;font-style:italic"># /docs/tutorial-extras/translate-your-site/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── index.html                    </span><span class="token comment" style="color:#999988;font-style:italic"># /</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── markdown-page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── index.html                </span><span class="token comment" style="color:#999988;font-style:italic"># /markdown-page/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><p>If <code>trailingSlash</code> is set to <code>false</code>, the build would emit <code>intro.html</code> instead of <code>intro/index.html</code>.</p><p>All HTML files will reference its JS assets using absolute URLs, so in order for the correct assets to be located, you have to configure the <code>baseUrl</code> field. Note that <code>baseUrl</code> doesn&#x27;t affect the emitted bundle&#x27;s file structure: the base URL is one level above the Docusaurus routing system. You can see the aggregate of <code>url</code> and <code>baseUrl</code> as the actual location of your Docusaurus site.</p><p>For example, the emitted HTML would contain links like <code>&lt;link rel=&quot;preload&quot; href=&quot;/assets/js/runtime~main.7ed5108a.js&quot; as=&quot;script&quot;&gt;</code>. Because absolute URLs are resolved from the host, if the bundle placed under the path <code>https://example.com/base/</code>, the link will point to <code>https://example.com/assets/js/runtime~main.7ed5108a.js</code>, which is, well, non-existent. By specifying <code>/base/</code> as base URL, the link will correctly point to <code>/base/assets/js/runtime~main.7ed5108a.js</code>.</p><p>Localized sites have the locale as part of the base URL as well. For example, <code>https://docusaurus.io/zh-CN/docs/advanced/routing/</code> has base URL <code>/zh-CN/</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="generating-and-accessing-routes">生成和访问路由<a href="#generating-and-accessing-routes" class="hash-link" aria-label="生成和访问路由的直接链接" title="生成和访问路由的直接链接">​</a></h2><p>The <code>addRoute</code> lifecycle action is used to generate routes. It registers a piece of route config to the route tree, giving a route, a component, and props that the component needs. The props and the component are both provided as paths for the bundler to <code>require</code>, because as explained in the <a href="/docs/advanced/architecture">architecture overview</a>, server and client only communicate through temp files.</p><p>All routes are aggregated in <code>.docusaurus/routes.js</code>, which you can view with the debug plugin&#x27;s <a href="/__docusaurus/debug/routes">routes panel</a>.</p><p>On the client side, we offer <code>@docusaurus/router</code> to access the page&#x27;s route. <code>@docusaurus/router</code> is a re-export of the <a href="https://www.npmjs.com/package/react-router-dom/v/5.3.0" target="_blank" rel="noopener noreferrer"><code>react-router-dom</code></a> package. For example, you can use <code>useLocation</code> to get the current page&#x27;s <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location" target="_blank" rel="noopener noreferrer">location</a>, and <code>useHistory</code> to access the <a href="https://developer.mozilla.org/en-US/docs/Web/API/History" target="_blank" rel="noopener noreferrer">history object</a>. (They are not the same as the browser API, although similar in functionality. Refer to the React Router documentation for specific APIs.)</p><p>This API is <strong>SSR safe</strong>, as opposed to the browser-only <code>window.location</code>.</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">myComponent.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useLocation </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@docusaurus/router&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">PageRoute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// React router provides the current component&#x27;s route, even in SSR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useLocation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      We are currently on </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">code</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token dom variable" style="color:#36acaa">location</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">pathname</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">code</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y text--truncate">http://localhost:3000</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><span>We are currently on <code>/docs/advanced/routing</code></span></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="escaping-from-spa-redirects">逃避 SPA 重定向<a href="#escaping-from-spa-redirects" class="hash-link" aria-label="逃避 SPA 重定向的直接链接" title="逃避 SPA 重定向的直接链接">​</a></h2><p>Docusaurus builds a <a href="https://developer.mozilla.org/en-US/docs/Glossary/SPA" target="_blank" rel="noopener noreferrer">single-page application</a>, where route transitions are done through the <code>history.push()</code> method of React router. This operation is done on the client side. However, the prerequisite for a route transition to happen this way is that the target URL is known to our router. Otherwise, the router catches this path and displays a 404 page instead.</p><p>If you put some HTML pages under the <code>static</code> folder, they will be copied to the build output and therefore become accessible as part of your website, yet it&#x27;s not part of the Docusaurus route system. We provide a <code>pathname://</code> protocol that allows you to redirect to another part of your domain in a non-SPA fashion, as if this route is an external link. Try the following two links:</p><div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">/pure-html</span><span class="token url" style="color:#36acaa">](</span><span class="token url" style="color:#36acaa">/pure-html</span><span class="token url" style="color:#36acaa">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">pathname:///pure-html</span><span class="token url" style="color:#36acaa">](</span><span class="token url" style="color:#36acaa">pathname:///pure-html</span><span class="token url" style="color:#36acaa">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y text--truncate">http://localhost:3000</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><ul><li><a href="/pure-html"><code>/pure-html</code></a></li><li><a href="/pure-html" target="_blank" rel="noopener noreferrer"><code>pathname:///pure-html</code></a></li></ul></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>The first link will <strong>not</strong> trigger a &quot;broken links detected&quot; check during the production build, because the respective file actually exists. Nevertheless, when you click on the link, a &quot;page not found&quot; will be displayed until you refresh.</p></div></div><p>The <code>pathname://</code> protocol is useful for referencing any content in the static folder. For example, Docusaurus would convert <a href="/docs/markdown-features/assets#static-assets">all Markdown static assets to require() calls</a>. You can use <code>pathname://</code> to keep it a regular link instead of being hashed by Webpack.</p><div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">my-doc.md</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token url operator" style="color:#393A34">!</span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">An image from the static</span><span class="token url" style="color:#36acaa">](</span><span class="token url" style="color:#36acaa">pathname:///img/docusaurus.png</span><span class="token url" style="color:#36acaa">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">An asset from the static</span><span class="token url" style="color:#36acaa">](</span><span class="token url" style="color:#36acaa">pathname:///files/asset.pdf</span><span class="token url" style="color:#36acaa">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Docusaurus will only strip the <code>pathname://</code> prefix without processing the content.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/advanced/routing.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/advanced/plugins"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">插件</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/advanced/ssg"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">静态站点生成</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#routing-in-content-plugins" class="table-of-contents__link toc-highlight">内容插件中的路由</a><ul><li><a href="#pages-routing" class="table-of-contents__link toc-highlight">页面路由</a></li><li><a href="#blog-routing" class="table-of-contents__link toc-highlight">博客路由</a></li><li><a href="#docs-routing" class="table-of-contents__link toc-highlight">文档路由</a></li><li><a href="#file-paths-and-url-paths" class="table-of-contents__link toc-highlight">文件路径和 URL 路径</a></li></ul></li><li><a href="#routes-become-html-files" class="table-of-contents__link toc-highlight">路由变成 HTML 文件</a></li><li><a href="#generating-and-accessing-routes" class="table-of-contents__link toc-highlight">生成和访问路由</a></li><li><a href="#escaping-from-spa-redirects" class="table-of-contents__link toc-highlight">逃避 SPA 重定向</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">学习</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">介绍</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation">安装</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/migration">从v1迁移到v2</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/feature-requests">特性请求</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/community/support">帮助</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多的</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">博客</a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">更新日志</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">推特<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">
                <a href="https://www.netlify.com" target="_blank" rel="noreferrer noopener" aria-label="Deploys by Netlify">
                  <img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify" width="114" height="51">
                </a>
              </li></ul></div><div class="col footer__col"><div class="footer__title">法律</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">隐私<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">条款<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie 策略<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.fb.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/meta_opensource_logo_negative.svg" alt="Meta开源Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/meta_opensource_logo_negative.svg" alt="Meta开源Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2023 元平台, Inc. 用Docusaurus建造的。</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cb03e971.js"></script>
<script src="/assets/js/main.cd2b1160.js"></script>
</body>
</html>